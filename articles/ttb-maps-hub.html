<!doctype html>
<html lang="en">
<head>
  <!-- Speed up connection to the image host -->
  <link rel="preconnect" href="https://raw.githubusercontent.com">
  <link rel="dns-prefetch" href="https://raw.githubusercontent.com">

  <!-- Preload thumbnails (only do this for above-the-fold images) -->
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-Bait-Tackle.png" type="image/png">
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-Boat-Kayak-Launches.png" type="image/png">
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-BYOF-Restaurants.png" type="image/png">
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-On-Shore-Fishing.png" type="image/png">
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-Piers-Jetties.png" type="image/png">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Hooked on Port A — Maps Hub</title>
  <meta name="description" content="Thumbnails linking to Hooked on Port A Google My Maps: Bait & Tackle, Boat & Kayak Launches, BYOF Restaurants, Piers & Jetties, and On-Shore Fishing.">
  <style>
    :root{
      --bg:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --border:#e5e7eb;
      --brand:#0ea5e9;
      --radius:16px;
      --shadow:3px 4px 10px rgba(2, 8, 23, 0.08);
      --gap:18px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text); background:var(--bg); line-height:1.6;
    }
    header{
      padding:18px 22px; border-bottom:1px solid #e2e8f0;
      position:sticky; top:0; background:#fff; z-index:10;
    }
    .wrap{ max-width:1100px; margin:0 auto; }
    .brand{ display:flex; align-items:center; gap:12px; color:inherit; text-decoration:none; }
    .brand .dot{ width:14px; height:14px; border-radius:50%; background:var(--brand); }
    h1{ font-size:20px; margin:0; letter-spacing:-0.02em; }
    main{ padding:20px 22px 30px; }
    .intro{ color:var(--muted); margin:0 0 16px; }

    .grid{
      display:flex; flex-wrap:wrap; gap:var(--gap); justify-content:center;
    }
    .card{ flex:0 0 100%; }

    @media (min-width:760px){ .card{ flex:0 0 calc((100% - var(--gap)) / 2); } }
    @media (min-width:1080px){ .card{ flex:0 0 calc((100% - (2 * var(--gap))) / 3); } }

    .card{
      border:1px solid var(--border); border-radius:var(--radius); background:#fff;
      box-shadow:var(--shadow); overflow:hidden; text-decoration:none; color:inherit;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .card:hover{ transform:translateY(-1px); box-shadow:5px 7px 16px rgba(2, 8, 23, 0.12); }

    figure{ margin:0; }
    img{ width:100%; height:auto; display:block; aspect-ratio:16 / 9; object-fit:cover; }

    figcaption{
      padding:12px 14px; font-weight:400; color:teal; text-align:center;
      letter-spacing:-0.01em; border-top:1px solid var(--border); background:#fff;
    }
    .card:link, .card:visited{ text-decoration:none; }
    .card:hover figcaption, .card:focus-visible figcaption{
      text-decoration:underline; text-underline-offset:3px;
    }

    footer{ text-align:center; color:var(--muted); border-top:1px solid #e2e8f0; padding:18px 22px; }

    /* ---------- Modal for mobile embed ---------- */
    .modal {
      position: fixed; inset: 0; background: rgba(15,23,42,.65);
      display: none; align-items: center; justify-content: center; z-index: 1000;
      backdrop-filter: blur(2px);
    }
    .modal.open { display: flex; }
    .modal-inner {
      background: #fff; width: 100%; height: 100%;
      max-width: 100vw; max-height: 100vh; border-radius: 0;
      display: flex; flex-direction: column; overflow: hidden;
    }
    .modal-header {
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; border-bottom:1px solid var(--border);
      background:#fff;
    }
    .modal-title { font-size:16px; margin:0; }
    .modal-actions a, .modal-actions button {
      font: inherit; border:1px solid var(--border); background:#fff; padding:6px 10px;
      border-radius:10px; cursor:pointer; text-decoration:none; color:var(--text);
    }
    .modal-actions button { border-color:#cbd5e1; }

    /* The iframe should fill the modal body */
    .modal-iframe { border:0; width:100%; height:100%; }
    /* Wrapper needs to flex to fill modal */
    .iframe-wrap { position: relative; width: 100%; height: 100%; flex: 1; }

    /* --- Hide Google My Maps fullscreen button with overlay guard --- */
    .fs-guard {
      position: absolute;
      top: 0;
      right: 0;
      width: 88px;         /* adjust if needed */
      height: 88px;
      background: transparent;
      border: 0;
      padding: 0;
      cursor: default;
      pointer-events: auto; /* intercept clicks */
    }
    .fs-guard:focus { outline: none; }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <a class="brand" href="https://hookedonporta.com" target="_blank" rel="noopener">
        <span class="dot" aria-hidden="true"></span>
        <h1>Hooked on Port A — Maps Hub</h1>
      </a>
    </div>
  </header>

  <main class="wrap">
    <p class="intro">Tap a card to open the corresponding Google My Map. On phones, the map opens right here so it stays in your browser (not the Maps app).</p>

    <div class="grid">
      <!-- DESKTOP: opens viewer in new tab; MOBILE: opens embedded modal -->
      <a class="card mymaps"
         href="https://www.google.com/maps/d/viewer?mid=1I4QjlGG_yINeKpvlZAwnCLuP_kO2mac&usp=sharing"
         data-mapid="1I4QjlGG_yINeKpvlZAwnCLuP_kO2mac"
         target="_blank" rel="noopener"
         title="Open map: Bait & Tackle">
        <figure>
          <img src="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-Bait-Tackle.png" alt="Bait & Tackle thumbnail" loading="lazy">
          <figcaption>Find live or frozen bait in the Port Aransas area.</figcaption>
        </figure>
      </a>

      <a class="card mymaps"
         href="https://www.google.com/maps/d/viewer?mid=1urXs9I2PUQzl4RjXnc39fkeFr4P2a7M&usp=sharing"
         data-mapid="1urXs9I2PUQzl4RjXnc39fkeFr4P2a7M"
         target="_blank" rel="noopener"
         title="Open map: Boat & Kayak Launches">
        <figure>
          <img src="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-Boat-Kayak-Launches.png" alt="Boat & Kayak Launches thumbnail" loading="lazy">
          <figcaption>Map of public boat and kayak launch locations in the area.</figcaption>
        </figure>
      </a>

      <a class="card mymaps"
         href="https://www.google.com/maps/d/viewer?mid=14Luav3YbX4d6CQfrYZYmk2UB02wHQws&usp=sharing"
         data-mapid="14Luav3YbX4d6CQfrYZYmk2UB02wHQws"
         target="_blank" rel="noopener"
         title="Open map: BYOF Restaurants">
        <figure>
          <img src="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-BYOF-Restaurants.png" alt="BYOF Restaurants thumbnail" loading="lazy">
          <figcaption>Find Port A restaurants that will cook and serve your catch!</figcaption>
        </figure>
      </a>

      <a class="card mymaps"
         href="https://www.google.com/maps/d/viewer?mid=1J013ecUUx-w31mhr99sVzmkhvApQzR4&usp=sharing"
         data-mapid="1J013ecUUx-w31mhr99sVzmkhvApQzR4"
         target="_blank" rel="noopener"
         title="Open map: On-Shore Fishing">
        <figure>
          <img src="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-On-Shore-Fishing.png" alt="On-Shore Fishing thumbnail" loading="lazy">
          <figcaption>Don't have a boat? No problem! There are lots of areas to fish from. Also see the Piers & Jetties map if you want to get out further!</figcaption>
        </figure>
      </a>

      <a class="card mymaps"
         href="https://www.google.com/maps/d/viewer?mid=1mLZVzRpe11MDjWg74JIoFs_6JwpCFGA&usp=sharing"
         data-mapid="1mLZVzRpe11MDjWg74JIoFs_6JwpCFGA"
         target="_blank" rel="noopener"
         title="Open map: Piers & Jetties">
        <figure>
          <img src="https://raw.githubusercontent.com/jaime62/hookedonporta-site/main/images/Map-Piers-Jetties.png" alt="Piers & Jetties thumbnail" loading="lazy">
          <figcaption>A map with local fishing pier and jetty locations in the Mustang Island area.</figcaption>
        </figure>
      </a>
    </div>
  </main>

  <footer>
    © 2025 Hooked on Port A
  </footer>

  <!-- Mobile modal markup -->
  <div class="modal" id="mapModal" aria-hidden="true">
    <div class="modal-inner" role="dialog" aria-modal="true" aria-labelledby="mapTitle">
      <div class="modal-header">
        <h2 class="modal-title" id="mapTitle">Map</h2>
        <div class="modal-actions">
          <button type="button" id="closeModal" aria-label="Close">Close</button>
        </div>
      </div>

      <!-- IFRAME WRAPPED WITH OVERLAY GUARD -->
      <div class="iframe-wrap">
        <iframe id="mapFrame" class="modal-iframe" src=""
                referrerpolicy="no-referrer"
                title="Embedded map"></iframe>
        <button class="fs-guard" aria-hidden="true" tabindex="-1"></button>
      </div>
    </div>
  </div>

  <script>
    (function () {
      var ua = navigator.userAgent || "";
      var isMobile = /Mobi|Android|iP(hone|od|ad)/i.test(ua) ||
                     (navigator.userAgentData && navigator.userAgentData.mobile);

      var modal = document.getElementById('mapModal');
      var frame = document.getElementById('mapFrame');
      var titleEl = document.getElementById('mapTitle');
      var closeBtn = document.getElementById('closeModal');

      function embedUrl(mapId){ return "https://www.google.com/maps/d/embed?mid=" + encodeURIComponent(mapId); }
      function viewerUrl(mapId){ return "https://www.google.com/maps/d/viewer?mid=" + encodeURIComponent(mapId) + "&usp=sharing"; }

      // Desktop: keep your current behavior (new tab to viewer)
      // Mobile: intercept and show an in-page modal with iframe (no app handoff)
      document.querySelectorAll('a.mymaps[data-mapid]').forEach(function(a){
        var id = a.getAttribute('data-mapid');
        var title = a.getAttribute('title') || 'Map';

        if (isMobile) {
          a.addEventListener('click', function(e){
            e.preventDefault();

            // Set modal title
            titleEl.textContent = title.replace(/^Open map:\s*/i, '');

            // Load embed inside the page (prevents any app interception)
            var url = embedUrl(id);
            frame.src = url;

            // Show modal
            modal.classList.add('open');
            modal.setAttribute('aria-hidden','false');
          }, { passive:false });
        } else {
          // Desktop still goes to viewer in a new tab (your existing href)
          a.href = viewerUrl(id);
        }
      });

      // Close modal handlers
      closeBtn.addEventListener('click', function(){
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden','true');
        frame.src = ""; // stop loading
      });
      modal.addEventListener('click', function(e){
        if (e.target === modal) {
          modal.classList.remove('open');
          modal.setAttribute('aria-hidden','true');
          frame.src = "";
        }
      });

      // Escape to close
      document.addEventListener('keydown', function(e){
        if (e.key === 'Escape' && modal.classList.contains('open')) {
          modal.classList.remove('open');
          modal.setAttribute('aria-hidden','true');
          frame.src = "";
        }
      });
    })();
  </script>
</body>
</html>
